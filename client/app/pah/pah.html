<!--<md-card style="width:500px; color: white">-->
<!--<p>Private: {{privatePlayArea.hand}}</p>-->
<!-- <p>Public: {{publicPlayArea}}</p> -->
<!--<p>Scoreboard: {{scoreboard}}</p>-->
<!-- <p>Me: {{currentPlayer}}</p> -->
<!--</md-card>-->

<md-sidenav class="md-sidenav-left sideBar" md-component-id="left" style="padding: 0 10px;">
<md-toolbar>
<h1 class="md-toolbar-tools" style="padding:0;font-weight:bold;">
  <a class="navButton" ng-click="closeSideNav()" style="margin-right:10px;">X</a>
  Phones Against Humanity</h1>
</md-toolbar>
<md-content class="sideBarContent">
<md-button class="button md-raised" ng-click="openLinkDialog()" style="margin-bottom: 20px;">Invite Players</md-button>
<md-button class="button md-raised" ng-click="openJoin()" ng-show="!currentPlayer.info">+ Join</md-button>
<div>
    <div ng-repeat="user in scoreboard.users" layout="row">
        <div ng-show="!user.isJudge" class="icon icon-social-white icon-social-white-ic_person_white_24dp" style="margin-right:10px;"></div>
        <div ng-show="user.isJudge" class="icon icon-toggle-white icon-toggle-white-ic_star_white_24dp" style="margin-right:10px;"></div>
        <div layout="row" flex>
            <div ng-class='{judge: user.index === currentPlayer.info.index }' class="username" flex="50">
                {{user.name}}
                <div ng-hide="user.isJudge" class="card-icon"></div>
                <img class="spinner" ng-show="user.isJudge" src="http://i.giphy.com/hoVradJ4jL2kE.gif"/>
            </div>
            <div class="score" flex="50" style="text-align:right;">
                {{user.score}}
            </div>
        </div>
    </div>
</div>
</md-content>
</md-sidenav>





<div ng-init="findPlayer(currentPlayer)">

    <div class="topBar">
      <div class="navButton icon icon-social-white icon-social-white-ic_person_white_24dp" ng-click="openSidenav()" style="margin-top:15px;"></div>
      <div class="gameCode">
        Game Code: {{gameCode}}
      </div>
    </div>
    <div class="players">
      <md-button class="button md-raised" ng-click="openLinkDialog()" style="margin-bottom: 20px;">Invite Players</md-button>
      <md-button class="button md-raised" ng-click="openJoin()" ng-show="!currentPlayer.info">+ Join</md-button>
      <div>
        <div ng-repeat="user in scoreboard.users" style="height:30px;">
          <div ng-show="!user.isJudge" class="icon icon-social-white icon-social-white-ic_person_white_24dp" style="margin-right:10px;float:left;"></div>
          <div ng-show="user.isJudge" class="icon icon-toggle-white icon-toggle-white-ic_star_white_24dp" style="margin-right:10px;float:left;"></div>
          <div class="nameScore">
            <div class="username" ng-class='{judge: user.index === currentPlayer.info.index }' >
              {{user.name}}
              <div ng-hide="user.isJudge" class="card-icon"></div>
            </div>
            <div class="score">
              {{user.score}}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="board">
        <div class="leftSide">
            <div class="card blackCard" ng-show="waitingForStart()">
                <div class="text">
                  Phones Against Humanity
                </div>
                <div class="footer">

                </div>
            </div>
            <div class="card blackCard" ng-hide="waitingForStart()">

                <div class="text" ng-bind-html='publicPlayArea.blackCard.text | underscore'></div>


                <div class="footer">
                    Phones Against Humanity
                </div>
            </div>
            <div class="publicWhiteCards">
                <div class='card whiteCard' ng-repeat='whiteCard in publicPlayArea.submittedCards' ng-hide="publicPlayArea.judgeMode">
                    <!--<div class="publicWhiteCards" style="margin-left:{{calStackCardsMargin(publicPlayArea.submittedCards.length)}}px" flex="25">-->
                    <!--<div class='card whiteCard' style="margin-left:-{{calStackCardsMargin(publicPlayArea.submittedCards.length)}}px" ng-repeat='whiteCard in publicPlayArea.submittedCards'>-->
                    Phones Against Humanity
                </div>
            </div>
        </div>
        <div class="rightSide">
            <div class="whiteCardZone">

                <div class="msg">
                  <h1 ng-show="waitingForStart()">Waiting for the judge to start the game</h1>
                  <h1 ng-show="judgeWaiting()">You are the judge! Waiting for players to submit their answers.</h1>
                  <h1 ng-show="publicPlayArea.judgeMode && !publicPlayArea.mostRecentWin.length && !currentPlayer.info.isJudge">See all answers</h1>
                  <h1 ng-show="publicPlayArea.judgeMode && !publicPlayArea.mostRecentWin.length && currentPlayer.info.isJudge">Select your favorite answer</h1>
                  <h1 ng-show="publicPlayArea.mostRecentWin.length && publicPlayArea.judgeMode">{{winner()}} Wins!</h1>
                  <h1 ng-hide="currentPlayer.info.isJudge || publicPlayArea.judgeMode">Select your answer</h1>
                  <md-button class="md-raised md-primary submit-button" ng-click="submitCards()" ng-hide="currentPlayer.info.isJudge || publicPlayArea.judgeMode || privatePlayArea.hand.length < 10" ng-class="{disabled: noSubmit()}">Submit Cards</md-button>

                </div>
                <div ng-repeat='whiteCard in privatePlayArea.hand' ng-hide="currentPlayer.info.isJudge || publicPlayArea.judgeMode">
                    <div class='card whiteCard' ng-click="selectWhiteCard(whiteCard)" ng-class="{cardHighlighted: whiteCard.selected}">
                        <div ng-show="whiteCard.selected && publicPlayArea.blackCard.numAnswers > 1" class="order-badge">{{whiteCard.order}}</div>
                        <div ng-bind-html="whiteCard.text"></div>
                    </div> 
                </div>
                <div class='card whiteCard' ng-bind-html="submission.text" ng-show="publicPlayArea.judgeMode && !publicPlayArea.mostRecentWin.length" ng-repeat='submission in publicPlayArea.submittedCards[judgeViewIndex]'></div>
                
                <div ng-show='publicPlayArea.mostRecentWin.length && publicPlayArea.judgeMode'>
                    <div class='card whiteCard' ng-bind-html="winner.text"  ng-show="publicPlayArea.judgeMode" ng-repeat='winner in publicPlayArea.mostRecentWin'></div>
                </div>
                <div ng-show="judgeWaiting()">
                    <img class="gif" ng-src="{{judgeGif}}" />
                </div>
                <div ng-show="waitingForStart()">
                    <img class="gif" ng-src="{{waitingGif}}"/>
                </div>
            </div>
            <div class="buttonZone">

                <div class="button" ng-show="publicPlayArea.mostRecentWin.length && currentPlayer.info.isJudge">
                    <md-button class="md-raised md-primary" ng-click="startRound()">Start Next Round</md-button>
                </div>
                <div class="button" ng-hide="publicPlayArea.mostRecentWin.length && publicPlayArea.judgeMode">
                    <md-button class="md-raised md-primary" ng-click="startRound()" ng-show="currentPlayer.info.isJudge && waitingForStart()">Start Game</md-button>
                    <md-button class="md-raised prevNextBtn" ng-click="decrementJudgeViewIndex()" ng-show="publicPlayArea.judgeMode">&lt;&lt;</md-button>
                    <md-button class="md-raised md-primary" ng-click="selectWinner(publicPlayArea.submittedCards[judgeViewIndex])" ng-show="currentPlayer.info.isJudge && publicPlayArea.judgeMode">Winner</md-button>
                    <md-button class="md-raised prevNextBtn" ng-click="incrementJudgeViewIndex()" ng-show="publicPlayArea.judgeMode">&gt;&gt;</md-button>
                </div>
            </div>
        </div>
    </div>

</div>
<script type="text/ng-template" id="getLinkDialog">
<div class="getLink">
    <h1>Copy the link</h1>
    <md-input-container>
    <code>{{url}}</code>
    </md-input-container>
    <h1>or text the link</h1>
    <md-input-container>
    <input ng-model="phoneNumber" placeholder="Phone Number" />
    </md-input-container>
    <div style="text-align: center">
      <md-button class="md-raised" ng-click="sendText()">Send text</md-button>
    </div>
</div>
</script>
<script type="text/ng-template" id="joinGameDialog">
<div class="joinDialog">
    <h1>Enter game</h1>
    <form name="submitName" ng-submit="join(playerName)">
    <md-input-container>
      <label>Name</label>
      <input ng-model="playerName" md-maxlength="25" autofocus>
    </md-input-container>
    <div style="text-align: center">
      <md-button class="md-raised" ng-click="join(playerName)" style="width:40%;">Enter</md-button>
    </div>
    </form>
</div>
</script>
